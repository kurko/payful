  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220130357"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mPayful::Membership Load (0.5ms)[0m  [1mSELECT "payful_memberships".* FROM "payful_memberships"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "payful_services" ("name", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:05:58.769638"], ["updated_at", "2017-02-21 00:05:58.769638"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Startup"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:05:58.782624"], ["updated_at", "2017-02-21 00:05:58.782624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["payful_service_id", 2], ["active", "t"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:05:58.792232"], ["updated_at", "2017-02-21 00:05:58.792232"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "payful_services" ("name", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:06:18.211119"], ["updated_at", "2017-02-21 00:06:18.211119"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Startup"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:06:18.231251"], ["updated_at", "2017-02-21 00:06:18.231251"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["payful_service_id", 2], ["active", "t"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:06:18.238151"], ["updated_at", "2017-02-21 00:06:18.238151"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships"  ORDER BY "payful_memberships"."id" ASC LIMIT 1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_services" ("name", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:07:08.869948"], ["updated_at", "2017-02-21 00:07:08.869948"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:07:08.885768"], ["updated_at", "2017-02-21 00:07:08.885768"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "payful_services" ("name", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:07:26.387462"], ["updated_at", "2017-02-21 00:07:26.387462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 00:07:26.414084"], ["updated_at", "2017-02-21 00:07:26.414084"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["extends_memberships_for", 30], ["state", "pending"], ["created_at", "2017-02-21 00:07:26.440498"], ["updated_at", "2017-02-21 00:07:26.440498"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "pricing" jsonb, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220130357"]]
  [1m[35m (3.2ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.7ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_services"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220130357"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.5ms)[0m  select sqlite_version(*)
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "pricing" jsonb DEFAULT '--- []
', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220130357"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (4.1ms)[0m  CREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "[{\"period_in_days\":30,\"amount_in_cents\":19900},{\"period_in_days\":90,\"amount_in_cents\":53700},{\"period_in_days\":180,\"amount_in_cents\":101400},{\"period_in_days\":365,\"amount_in_cents\":191000}]"], ["created_at", "2017-02-21 03:54:42.248585"], ["updated_at", "2017-02-21 03:54:42.248585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:00:38.142941"], ["updated_at", "2017-02-21 04:00:38.142941"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:00:52.924920"], ["updated_at", "2017-02-21 04:00:52.924920"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:01:42.896516"], ["updated_at", "2017-02-21 04:01:42.896516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:02:01.653217"], ["updated_at", "2017-02-21 04:02:01.653217"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:02:29.149760"], ["updated_at", "2017-02-21 04:02:29.149760"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:02:54.430764"], ["updated_at", "2017-02-21 04:02:54.430764"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:07:01.590601"], ["updated_at", "2017-02-21 04:07:01.590601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 04:07:01.616242"], ["updated_at", "2017-02-21 04:07:01.616242"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for", 30], ["state", "pending"], ["amount_in_cents", 10000], ["created_at", "2017-02-21 04:07:01.646414"], ["updated_at", "2017-02-21 04:07:01.646414"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:07:53.755750"], ["updated_at", "2017-02-21 04:07:53.755750"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["created_at", "2017-02-21 04:07:53.775405"], ["updated_at", "2017-02-21 04:07:53.775405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["created_at", "2017-02-21 04:07:53.781585"], ["updated_at", "2017-02-21 04:07:53.781585"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-21 04:07:53.822427"], ["updated_at", "2017-02-21 04:07:53.822427"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 04:08:02.210700"], ["updated_at", "2017-02-21 04:08:02.210700"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["created_at", "2017-02-21 04:08:02.231907"], ["updated_at", "2017-02-21 04:08:02.231907"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["created_at", "2017-02-21 04:08:02.237430"], ["updated_at", "2017-02-21 04:08:02.237430"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-21 04:08:02.259960"], ["updated_at", "2017-02-21 04:08:02.259960"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "pricing" jsonb DEFAULT '--- []
', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220130357"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 12:46:42.371602"], ["updated_at", "2017-02-21 12:46:42.371602"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-22 12:46:42.360530"], ["created_at", "2017-02-21 12:46:42.394923"], ["updated_at", "2017-02-21 12:46:42.394923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-20 12:46:42.397985"], ["created_at", "2017-02-21 12:46:42.399242"], ["updated_at", "2017-02-21 12:46:42.399242"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-21 12:46:42.436669"], ["updated_at", "2017-02-21 12:46:42.436669"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 12:47:04.350843"], ["updated_at", "2017-02-21 12:47:04.350843"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-22 12:47:04.340912"], ["created_at", "2017-02-21 12:47:04.378634"], ["updated_at", "2017-02-21 12:47:04.378634"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-20 12:47:04.380844"], ["created_at", "2017-02-21 12:47:04.381962"], ["updated_at", "2017-02-21 12:47:04.381962"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-21 12:47:04.418439"], ["updated_at", "2017-02-21 12:47:04.418439"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 12:57:01.621303"], ["updated_at", "2017-02-21 12:57:01.621303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 12:57:13.154309"], ["updated_at", "2017-02-21 12:57:13.154309"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 12:57:29.986421"], ["updated_at", "2017-02-21 12:57:29.986421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 12:58:08.204818"], ["updated_at", "2017-02-21 12:58:08.204818"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["created_at", "2017-02-21 12:58:08.217953"], ["updated_at", "2017-02-21 12:58:08.217953"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:12:03.025333"], ["updated_at", "2017-02-21 13:12:03.025333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["created_at", "2017-02-21 13:12:03.042793"], ["updated_at", "2017-02-21 13:12:03.042793"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:12:17.258132"], ["updated_at", "2017-02-21 13:12:17.258132"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:12:22.886435"], ["updated_at", "2017-02-21 13:12:22.886435"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["created_at", "2017-02-21 13:12:22.901478"], ["updated_at", "2017-02-21 13:12:22.901478"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "payful_services" ("name", "pricing", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Startup"], ["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:34:21.765357"], ["updated_at", "2017-02-21 13:34:21.765357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "[{\"period_in_days\":30,\"amount_in_cents\":19900},{\"period_in_days\":90,\"amount_in_cents\":53700},{\"period_in_days\":180,\"amount_in_cents\":101400},{\"period_in_days\":365,\"amount_in_cents\":191000}]"], ["created_at", "2017-02-21 13:36:52.730344"], ["updated_at", "2017-02-21 13:36:52.730344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "[{\"period_in_days\":30,\"amount_in_cents\":19900},{\"period_in_days\":90,\"amount_in_cents\":53700},{\"period_in_days\":180,\"amount_in_cents\":101400},{\"period_in_days\":365,\"amount_in_cents\":191000}]"], ["created_at", "2017-02-21 13:37:05.788512"], ["updated_at", "2017-02-21 13:37:05.788512"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "[{\"period_in_days\":30,\"amount_in_cents\":19900},{\"period_in_days\":90,\"amount_in_cents\":53700},{\"period_in_days\":180,\"amount_in_cents\":101400},{\"period_in_days\":365,\"amount_in_cents\":191000}]"], ["created_at", "2017-02-21 13:37:20.541327"], ["updated_at", "2017-02-21 13:37:20.541327"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT "payful_services".* FROM "payful_services"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["pricing", "[{\"period_in_days\":30,\"amount_in_cents\":19900},{\"period_in_days\":90,\"amount_in_cents\":53700},{\"period_in_days\":180,\"amount_in_cents\":101400},{\"period_in_days\":365,\"amount_in_cents\":191000}]"], ["created_at", "2017-02-21 13:37:48.491760"], ["updated_at", "2017-02-21 13:37:48.491760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.2ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Service Load (0.0ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "[{\"period_in_days\":30,\"amount_in_cents\":19900},{\"period_in_days\":90,\"amount_in_cents\":53700},{\"period_in_days\":180,\"amount_in_cents\":101400},{\"period_in_days\":365,\"amount_in_cents\":191000}]"], ["created_at", "2017-02-21 13:38:00.861538"], ["updated_at", "2017-02-21 13:38:00.861538"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Service Load (0.2ms)[0m  [1mSELECT "payful_services".* FROM "payful_services"[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:38:31.029158"], ["updated_at", "2017-02-21 13:38:31.029158"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT "payful_services".* FROM "payful_services"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "---\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:40:35.976551"], ["updated_at", "2017-02-21 13:40:35.976551"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT "payful_services".* FROM "payful_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.4ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (3.7ms)[0m  DROP INDEX "index_payful_memberships_on_active"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.4ms)[0m  [1mDROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"[0m
  [1m[35m (0.6ms)[0m  DROP TABLE "payful_memberships"
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220131023"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.0ms)[0m  DROP TABLE "payful_services"
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220130357"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "pricing" jsonb DEFAULT '{}', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.5ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "---\n:periods:\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:46:53.644680"], ["updated_at", "2017-02-21 13:46:53.644680"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "---\n:periods:\n- :period_in_days: 30\n  :amount_in_cents: 19900\n- :period_in_days: 90\n  :amount_in_cents: 53700\n- :period_in_days: 180\n  :amount_in_cents: 101400\n- :period_in_days: 365\n  :amount_in_cents: 191000\n"], ["created_at", "2017-02-21 13:49:08.769147"], ["updated_at", "2017-02-21 13:49:08.769147"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.2ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.7ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (1.1ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  DROP INDEX "index_payful_memberships_on_active"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"[0m
  [1m[35m (0.6ms)[0m  DROP TABLE "payful_memberships"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220131023"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_services"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220130357"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "pricing" jsonb DEFAULT '--- {}
', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (2.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "payful_services" ("pricing", "created_at", "updated_at") VALUES (?, ?, ?)  [["pricing", "{\"periods\":[{\"period_in_days\":30,\"amount_in_cents\":19900},{\"period_in_days\":90,\"amount_in_cents\":53700},{\"period_in_days\":180,\"amount_in_cents\":101400},{\"period_in_days\":365,\"amount_in_cents\":191000}]}"], ["created_at", "2017-02-21 13:53:42.530483"], ["updated_at", "2017-02-21 13:53:42.530483"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170220231705')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.8ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170220231705')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220130357"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (2.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:15:01.604976"], ["updated_at", "2017-02-21 14:15:01.604976"]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:15:33.043522"], ["updated_at", "2017-02-21 14:15:33.043522"]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:15:39.119594"], ["updated_at", "2017-02-21 14:15:39.119594"]]
  [1m[35mPayful::ServicePricing Load (0.4ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-21 14:15:39.153856"], ["updated_at", "2017-02-21 14:15:39.153856"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-21 14:15:39.155343"], ["updated_at", "2017-02-21 14:15:39.155343"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-21 14:15:39.156373"], ["updated_at", "2017-02-21 14:15:39.156373"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-21 14:15:39.157350"], ["updated_at", "2017-02-21 14:15:39.157350"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.5ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:15:55.244472"], ["updated_at", "2017-02-21 14:15:55.244472"]]
  [1m[35mPayful::ServicePricing Load (0.4ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-21 14:15:55.276192"], ["updated_at", "2017-02-21 14:15:55.276192"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-21 14:15:55.279741"], ["updated_at", "2017-02-21 14:15:55.279741"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-21 14:15:55.284112"], ["updated_at", "2017-02-21 14:15:55.284112"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-21 14:15:55.287556"], ["updated_at", "2017-02-21 14:15:55.287556"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.6ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:18:33.216699"], ["updated_at", "2017-02-21 14:18:33.216699"]]
  [1m[35mPayful::ServicePricing Load (0.5ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-21 14:18:33.248536"], ["updated_at", "2017-02-21 14:18:33.248536"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-21 14:18:33.255237"], ["updated_at", "2017-02-21 14:18:33.255237"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-21 14:18:33.256869"], ["updated_at", "2017-02-21 14:18:33.256869"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-21 14:18:33.257865"], ["updated_at", "2017-02-21 14:18:33.257865"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.5ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:18:57.551050"], ["updated_at", "2017-02-21 14:18:57.551050"]]
  [1m[35mPayful::ServicePricing Load (0.5ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-21 14:18:57.580440"], ["updated_at", "2017-02-21 14:18:57.580440"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-21 14:18:57.582321"], ["updated_at", "2017-02-21 14:18:57.582321"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-21 14:18:57.583335"], ["updated_at", "2017-02-21 14:18:57.583335"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-21 14:18:57.584373"], ["updated_at", "2017-02-21 14:18:57.584373"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36mPayful::ServicePricing Load (0.2ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:19:18.470597"], ["updated_at", "2017-02-21 14:19:18.470597"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-21 14:19:18.488752"], ["updated_at", "2017-02-21 14:19:18.488752"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-21 14:19:18.490217"], ["updated_at", "2017-02-21 14:19:18.490217"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-21 14:19:18.491461"], ["updated_at", "2017-02-21 14:19:18.491461"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-21 14:19:18.492506"], ["updated_at", "2017-02-21 14:19:18.492506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36mPayful::ServicePricing Load (0.2ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:19:41.933761"], ["updated_at", "2017-02-21 14:19:41.933761"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-21 14:19:41.955054"], ["updated_at", "2017-02-21 14:19:41.955054"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-21 14:19:41.959969"], ["updated_at", "2017-02-21 14:19:41.959969"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-21 14:19:41.964943"], ["updated_at", "2017-02-21 14:19:41.964943"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-21 14:19:41.966136"], ["updated_at", "2017-02-21 14:19:41.966136"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.1ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (2.4ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (5.7ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  DROP INDEX "index_payful_memberships_on_active"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.5ms)[0m  [1mDROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"[0m
  [1m[35m (0.7ms)[0m  DROP TABLE "payful_memberships"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220131023"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170220130357')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.6ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.6ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-21 14:52:25.166702"], ["updated_at", "2017-02-21 14:52:25.166702"]]
  [1m[35mPayful::ServicePricing Load (0.5ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-21 14:52:25.197249"], ["updated_at", "2017-02-21 14:52:25.197249"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-21 14:52:25.199280"], ["updated_at", "2017-02-21 14:52:25.199280"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-21 14:52:25.200378"], ["updated_at", "2017-02-21 14:52:25.200378"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-21 14:52:25.201368"], ["updated_at", "2017-02-21 14:52:25.201368"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT "payful_services".* FROM "payful_services"
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.4ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "manufacture"]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "manufacture"], ["created_at", "2017-02-22 02:37:59.794486"], ["updated_at", "2017-02-22 02:37:59.794486"]]
  [1m[35mPayful::ServicePricing Load (0.4ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["service_id", 1], ["created_at", "2017-02-22 02:37:59.816871"], ["updated_at", "2017-02-22 02:37:59.816871"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 90], ["amount_in_cents", 53700], ["service_id", 1], ["created_at", "2017-02-22 02:37:59.818610"], ["updated_at", "2017-02-22 02:37:59.818610"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 180], ["amount_in_cents", 101400], ["service_id", 1], ["created_at", "2017-02-22 02:37:59.819573"], ["updated_at", "2017-02-22 02:37:59.819573"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 365], ["amount_in_cents", 191000], ["service_id", 1], ["created_at", "2017-02-22 02:37:59.820963"], ["updated_at", "2017-02-22 02:37:59.820963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-22 13:15:53.951835"], ["updated_at", "2017-02-22 13:15:53.951835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-23 13:15:53.940050"], ["created_at", "2017-02-22 13:15:53.981762"], ["updated_at", "2017-02-22 13:15:53.981762"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-21 13:15:53.987532"], ["created_at", "2017-02-22 13:15:53.989995"], ["updated_at", "2017-02-22 13:15:53.989995"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-22 13:15:54.020273"], ["updated_at", "2017-02-22 13:15:54.020273"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-22 13:15:54.033814"], ["updated_at", "2017-02-22 13:15:54.033814"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-22 13:15:54.035327"], ["updated_at", "2017-02-22 13:15:54.035327"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::ServicePricing Load (0.4ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 2]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 19900], ["created_at", "2017-02-22 13:16:35.546814"], ["updated_at", "2017-02-22 13:16:35.546814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 19900], ["created_at", "2017-02-22 13:16:35.555675"], ["updated_at", "2017-02-22 13:16:35.555675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-22 13:17:04.215515"], ["updated_at", "2017-02-22 13:17:04.215515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-22 13:17:04.220156"], ["updated_at", "2017-02-22 13:17:04.220156"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "payful_memberships" ("amount_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["amount_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-02-22 13:17:04.236671"], ["updated_at", "2017-02-22 13:17:04.236671"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 1], ["created_at", "2017-02-22 13:17:04.274612"], ["updated_at", "2017-02-22 13:17:04.274612"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-22 13:17:04.281805"], ["updated_at", "2017-02-22 13:17:04.281805"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-23 13:17:04.281044"], ["created_at", "2017-02-22 13:17:04.283932"], ["updated_at", "2017-02-22 13:17:04.283932"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-21 13:17:04.284966"], ["created_at", "2017-02-22 13:17:04.285713"], ["updated_at", "2017-02-22 13:17:04.285713"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-22 13:17:04.288512"], ["updated_at", "2017-02-22 13:17:04.288512"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.5ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.9ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "payment_details" jsonb DEFAULT '--- {}
', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.2ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "payment_type" varchar, "payment_url" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (1.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.6ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 02:02:44.491530"], ["updated_at", "2017-02-23 02:02:44.491530"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "my-url"], ["updated_at", "2017-02-23 02:02:44.496589"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 02:02:50.413171"], ["updated_at", "2017-02-23 02:02:50.413171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "my-url"], ["updated_at", "2017-02-23 02:02:50.420793"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-23 02:02:50.438381"], ["updated_at", "2017-02-23 02:02:50.438381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-24 02:02:50.430009"], ["created_at", "2017-02-23 02:02:50.450004"], ["updated_at", "2017-02-23 02:02:50.450004"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-22 02:02:50.452821"], ["created_at", "2017-02-23 02:02:50.453721"], ["updated_at", "2017-02-23 02:02:50.453721"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-23 02:02:50.458234"], ["updated_at", "2017-02-23 02:02:50.458234"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-23 02:02:50.469652"], ["updated_at", "2017-02-23 02:02:50.469652"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-23 02:02:50.471060"], ["updated_at", "2017-02-23 02:02:50.471060"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("amount_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["amount_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-02-23 02:02:50.474021"], ["updated_at", "2017-02-23 02:02:50.474021"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 1], ["created_at", "2017-02-23 02:02:50.477419"], ["updated_at", "2017-02-23 02:02:50.477419"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-23 02:06:22.299085"], ["updated_at", "2017-02-23 02:06:22.299085"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-24 02:06:22.290073"], ["created_at", "2017-02-23 02:06:22.315435"], ["updated_at", "2017-02-23 02:06:22.315435"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-22 02:06:22.318297"], ["created_at", "2017-02-23 02:06:22.319785"], ["updated_at", "2017-02-23 02:06:22.319785"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-23 02:06:22.360458"], ["updated_at", "2017-02-23 02:06:22.360458"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 02:06:22.374390"], ["updated_at", "2017-02-23 02:06:22.374390"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-23 02:06:22.377392"], ["updated_at", "2017-02-23 02:06:22.377392"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-23 02:06:22.378812"], ["updated_at", "2017-02-23 02:06:22.378812"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("amount_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["amount_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-02-23 02:06:22.381428"], ["updated_at", "2017-02-23 02:06:22.381428"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 1], ["created_at", "2017-02-23 02:06:22.384878"], ["updated_at", "2017-02-23 02:06:22.384878"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-23 02:06:33.389121"], ["updated_at", "2017-02-23 02:06:33.389121"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-23 02:06:33.394445"], ["updated_at", "2017-02-23 02:06:33.394445"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("amount_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["amount_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-02-23 02:06:33.407474"], ["updated_at", "2017-02-23 02:06:33.407474"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 1], ["created_at", "2017-02-23 02:06:33.436227"], ["updated_at", "2017-02-23 02:06:33.436227"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 02:06:33.441668"], ["updated_at", "2017-02-23 02:06:33.441668"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "my-url"], ["updated_at", "2017-02-23 02:06:33.442967"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-23 02:06:33.448859"], ["updated_at", "2017-02-23 02:06:33.448859"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-24 02:06:33.448076"], ["created_at", "2017-02-23 02:06:33.451131"], ["updated_at", "2017-02-23 02:06:33.451131"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-22 02:06:33.452069"], ["created_at", "2017-02-23 02:06:33.452890"], ["updated_at", "2017-02-23 02:06:33.452890"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-23 02:06:33.456636"], ["updated_at", "2017-02-23 02:06:33.456636"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.9ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  DROP INDEX "index_payful_transactions_on_state"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (2.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  DROP INDEX "index_payful_memberships_on_active"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.7ms)[0m  [1mDROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"[0m
  [1m[35m (1.6ms)[0m  DROP TABLE "payful_memberships"
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220131023"]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "amount_in_cents" integer, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 03:17:13.325331"], ["updated_at", "2017-02-23 03:17:13.325331"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 03:20:02.200084"], ["updated_at", "2017-02-23 03:20:02.200084"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-02-23 03:20:02.204968"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-02-23 03:20:14.887787"], ["updated_at", "2017-02-23 03:20:14.887787"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-23 03:20:14.894283"], ["updated_at", "2017-02-23 03:20:14.894283"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "payful_memberships" ("amount_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["amount_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-02-23 03:20:14.906353"], ["updated_at", "2017-02-23 03:20:14.906353"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 1], ["created_at", "2017-02-23 03:20:14.936961"], ["updated_at", "2017-02-23 03:20:14.936961"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-02-23 03:20:14.943340"], ["updated_at", "2017-02-23 03:20:14.943340"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-02-24 03:20:14.942534"], ["created_at", "2017-02-23 03:20:14.945653"], ["updated_at", "2017-02-23 03:20:14.945653"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-02-22 03:20:14.947069"], ["created_at", "2017-02-23 03:20:14.948347"], ["updated_at", "2017-02-23 03:20:14.948347"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-02-23 03:20:14.952026"], ["updated_at", "2017-02-23 03:20:14.952026"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 03:20:14.964405"], ["updated_at", "2017-02-23 03:20:14.964405"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-02-23 03:20:14.967996"], ["updated_at", "2017-02-23 03:20:14.967996"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-02-23 03:20:14.969397"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.8ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (1.8ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  DROP INDEX "index_payful_memberships_on_active"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.4ms)[0m  [1mDROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"[0m
  [1m[35m (0.7ms)[0m  DROP TABLE "payful_memberships"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220131023"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "payful_services"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220130357"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "fee_in_cents" integer DEFAULT 0, "total_amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220231705"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170221140942"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.5ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:04:37.972324"], ["updated_at", "2017-03-03 23:04:37.972324"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-03 23:04:37.991334"], ["updated_at", "2017-03-03 23:04:37.991334"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:04:37.992838"], ["updated_at", "2017-03-03 23:04:37.992838"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:05:06.648211"], ["updated_at", "2017-03-03 23:05:06.648211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:05:06.710995"], ["updated_at", "2017-03-03 23:05:06.710995"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:05:06.718127"], ["updated_at", "2017-03-03 23:05:06.718127"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-03 23:05:06.719899"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:05:06.728795"], ["updated_at", "2017-03-03 23:05:06.728795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-03 23:05:06.730915"], ["updated_at", "2017-03-03 23:05:06.730915"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.9ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "payful_transactions"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220231705"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (1.1ms)[0m  DROP INDEX "index_payful_memberships_on_active"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.5ms)[0m  [1mDROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"[0m
  [1m[35m (1.2ms)[0m  DROP TABLE "payful_memberships"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220131023"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to CreatePayfulServices (20170220130357)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_services"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220130357"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "amount_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "fee_in_cents" integer DEFAULT 0, "total_amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:05:56.174903"], ["updated_at", "2017-03-03 23:05:56.174903"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:05:56.224723"], ["updated_at", "2017-03-03 23:05:56.224723"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:05:56.229502"], ["updated_at", "2017-03-03 23:05:56.229502"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-03 23:05:56.230946"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:05:56.237211"], ["updated_at", "2017-03-03 23:05:56.237211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-03 23:05:56.238676"], ["updated_at", "2017-03-03 23:05:56.238676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:06:09.373747"], ["updated_at", "2017-03-03 23:06:09.373747"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:06:09.383378"], ["updated_at", "2017-03-03 23:06:09.383378"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-03 23:06:09.385073"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-03 23:06:09.400072"], ["updated_at", "2017-03-03 23:06:09.400072"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:06:09.414492"], ["updated_at", "2017-03-03 23:06:09.414492"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-03 23:06:09.415863"], ["updated_at", "2017-03-03 23:06:09.415863"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "payful_memberships" ("amount_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["amount_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-03 23:06:09.418474"], ["updated_at", "2017-03-03 23:06:09.418474"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["total_amount_in_cents", 1], ["created_at", "2017-03-03 23:06:09.425205"], ["updated_at", "2017-03-03 23:06:09.425205"]]
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:06:21.468595"], ["updated_at", "2017-03-03 23:06:21.468595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 19900], ["expires_at", "2017-03-04 23:06:21.459743"], ["created_at", "2017-03-03 23:06:21.494861"], ["updated_at", "2017-03-03 23:06:21.494861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "amount_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["amount_in_cents", 29900], ["expires_at", "2017-03-02 23:06:21.496272"], ["created_at", "2017-03-03 23:06:21.497085"], ["updated_at", "2017-03-03 23:06:21.497085"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "total_amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["total_amount_in_cents", 49800], ["created_at", "2017-03-03 23:06:21.522447"], ["updated_at", "2017-03-03 23:06:21.522447"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-03 23:06:21.534642"], ["updated_at", "2017-03-03 23:06:21.534642"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-03 23:06:21.536053"], ["updated_at", "2017-03-03 23:06:21.536053"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("amount_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["amount_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-03 23:06:21.538749"], ["updated_at", "2017-03-03 23:06:21.538749"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["total_amount_in_cents", 1], ["created_at", "2017-03-03 23:06:21.541738"], ["updated_at", "2017-03-03 23:06:21.541738"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:06:21.547292"], ["updated_at", "2017-03-03 23:06:21.547292"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-03 23:06:21.548973"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "total_amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["total_amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-03 23:06:21.553267"], ["updated_at", "2017-03-03 23:06:21.553267"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.3ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.6ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.8ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (1.1ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (1.9ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (2.9ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.6ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.5ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (3.3ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state" varchar, "extends_memberships_for_days" integer, "metadata_json" text, "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-04 00:26:17.356048"], ["updated_at", "2017-03-04 00:26:17.356048"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (2.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-04 00:29:15.977780"], ["updated_at", "2017-03-04 00:29:15.977780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (1.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-04 00:29:29.553809"], ["updated_at", "2017-03-04 00:29:29.553809"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-04 00:29:35.746226"], ["updated_at", "2017-03-04 00:29:35.746226"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-04 00:29:45.662257"], ["updated_at", "2017-03-04 00:29:45.662257"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-04 00:29:54.800344"], ["updated_at", "2017-03-04 00:29:54.800344"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["created_at", "2017-03-04 00:29:58.608633"], ["updated_at", "2017-03-04 00:29:58.608633"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "null"], ["created_at", "2017-03-04 00:31:14.822459"], ["updated_at", "2017-03-04 00:31:14.822459"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "null"], ["created_at", "2017-03-04 00:31:22.320586"], ["updated_at", "2017-03-04 00:31:22.320586"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:31:36.412668"], ["updated_at", "2017-03-04 00:31:36.412668"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:32:10.010818"], ["updated_at", "2017-03-04 00:32:10.010818"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:32:45.451362"], ["updated_at", "2017-03-04 00:32:45.451362"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:33:48.285640"], ["updated_at", "2017-03-04 00:33:48.285640"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:33:48.292162"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:33:48.302483"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:34:23.256758"], ["updated_at", "2017-03-04 00:34:23.256758"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:34:23.263033"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:34:23.269879"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:34:23.271228"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:34:44.941361"], ["updated_at", "2017-03-04 00:34:44.941361"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:34:44.968446"], ["updated_at", "2017-03-04 00:34:44.968446"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:34:44.970322"], ["updated_at", "2017-03-04 00:34:44.970322"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:34:45.009617"], ["updated_at", "2017-03-04 00:34:45.009617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:34:45.015802"], ["updated_at", "2017-03-04 00:34:45.015802"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 00:34:45.017663"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:34:45.028415"], ["updated_at", "2017-03-04 00:34:45.028415"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:34:45.030160"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:34:45.031513"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:34:45.032731"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:35:08.088502"], ["updated_at", "2017-03-04 00:35:08.088502"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (3.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:35:08.167616"], ["updated_at", "2017-03-04 00:35:08.167616"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:35:08.176352"], ["updated_at", "2017-03-04 00:35:08.176352"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:35:08.266152"], ["updated_at", "2017-03-04 00:35:08.266152"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:35:08.274689"], ["updated_at", "2017-03-04 00:35:08.274689"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 00:35:08.281624"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:35:08.297785"], ["updated_at", "2017-03-04 00:35:08.297785"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:35:08.300396"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:35:08.303873"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:35:08.306049"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:35:26.701246"], ["updated_at", "2017-03-04 00:35:26.701246"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:35:26.707723"], ["updated_at", "2017-03-04 00:35:26.707723"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:35:46.814272"], ["updated_at", "2017-03-04 00:35:46.814272"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:35:46.826434"], ["updated_at", "2017-03-04 00:35:46.826434"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 00:35:46.847497"], ["updated_at", "2017-03-04 00:35:46.847497"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:36:03.407330"], ["updated_at", "2017-03-04 00:36:03.407330"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:36:03.422436"], ["updated_at", "2017-03-04 00:36:03.422436"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 00:36:03.439933"], ["updated_at", "2017-03-04 00:36:03.439933"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 1], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:03.484587"], ["updated_at", "2017-03-04 00:36:03.484587"]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:36:05.794727"], ["updated_at", "2017-03-04 00:36:05.794727"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:36:05.827493"], ["updated_at", "2017-03-04 00:36:05.827493"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:36:05.829215"], ["updated_at", "2017-03-04 00:36:05.829215"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 00:36:05.831691"], ["updated_at", "2017-03-04 00:36:05.831691"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 1], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:05.873913"], ["updated_at", "2017-03-04 00:36:05.873913"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:05.885075"], ["updated_at", "2017-03-04 00:36:05.885075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:05.892622"], ["updated_at", "2017-03-04 00:36:05.892622"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-04 00:36:05.895271"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:05.910581"], ["updated_at", "2017-03-04 00:36:05.910581"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:36:05.912217"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:36:05.913951"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:36:05.915817"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:36:13.580030"], ["updated_at", "2017-03-04 00:36:13.580030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:36:13.611393"], ["updated_at", "2017-03-04 00:36:13.611393"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:36:13.615829"], ["updated_at", "2017-03-04 00:36:13.615829"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 00:36:13.624157"], ["updated_at", "2017-03-04 00:36:13.624157"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 1], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:13.664626"], ["updated_at", "2017-03-04 00:36:13.664626"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:13.672444"], ["updated_at", "2017-03-04 00:36:13.672444"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:13.677326"], ["updated_at", "2017-03-04 00:36:13.677326"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-04 00:36:13.679087"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:13.691100"], ["updated_at", "2017-03-04 00:36:13.691100"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:36:13.694773"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:36:13.696486"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:36:13.697827"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:36:37.700950"], ["updated_at", "2017-03-04 00:36:37.700950"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 00:36:37.685190"], ["created_at", "2017-03-04 00:36:37.731289"], ["updated_at", "2017-03-04 00:36:37.731289"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 00:36:37.735432"], ["created_at", "2017-03-04 00:36:37.739414"], ["updated_at", "2017-03-04 00:36:37.739414"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:37.784739"], ["updated_at", "2017-03-04 00:36:37.784739"]]
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.2ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:37.811044"], ["updated_at", "2017-03-04 00:36:37.811044"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:36:37.813221"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:36:37.818155"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:36:37.822312"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 00:36:37.825775"], ["updated_at", "2017-03-04 00:36:37.825775"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 00:36:37.827515"], ["updated_at", "2017-03-04 00:36:37.827515"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 00:36:37.830709"], ["updated_at", "2017-03-04 00:36:37.830709"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 1], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:37.835449"], ["updated_at", "2017-03-04 00:36:37.835449"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:37.842744"], ["updated_at", "2017-03-04 00:36:37.842744"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:36:37.847543"], ["updated_at", "2017-03-04 00:36:37.847543"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 00:36:37.850258"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:37:49.924013"], ["updated_at", "2017-03-04 00:37:49.924013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:37:49.931943"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:37:49.941417"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:37:58.276386"], ["updated_at", "2017-03-04 00:37:58.276386"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:37:58.283722"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:37:58.290111"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions" WHERE "payful_transactions"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:38:29.559254"], ["updated_at", "2017-03-04 00:38:29.559254"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:38:29.570758"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:38:29.576979"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:38:29.580583"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:54:20.457649"], ["updated_at", "2017-03-04 00:54:20.457649"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:54:20.466194"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:54:20.474697"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:54:20.478342"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:54:35.781700"], ["updated_at", "2017-03-04 00:54:35.781700"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 00:54:35.788794"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 00:54:35.797089"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 00:54:35.800980"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "payment_type", "state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["payment_type", "bank_slip"], ["state", "pending"], ["amount_in_cents", 0], ["metadata_json", "{\"test4\":4}"], ["created_at", "2017-03-04 00:54:35.804957"], ["updated_at", "2017-03-04 00:54:35.804957"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{}"], ["created_at", "2017-03-04 00:59:56.845983"], ["updated_at", "2017-03-04 00:59:56.845983"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:15.555402"], ["updated_at", "2017-03-04 01:01:15.555402"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 01:01:15.565905"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:17.117754"], ["updated_at", "2017-03-04 01:01:17.117754"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 01:01:17.124033"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:17.138091"], ["updated_at", "2017-03-04 01:01:17.138091"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 01:01:17.149825"], ["updated_at", "2017-03-04 01:01:17.149825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 01:01:17.151890"], ["updated_at", "2017-03-04 01:01:17.151890"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 01:01:17.166112"], ["updated_at", "2017-03-04 01:01:17.166112"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:17.176866"], ["updated_at", "2017-03-04 01:01:17.176866"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 01:01:17.180645"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:17.186469"], ["updated_at", "2017-03-04 01:01:17.186469"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 01:01:17.212133"], ["updated_at", "2017-03-04 01:01:17.212133"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 01:01:17.210889"], ["created_at", "2017-03-04 01:01:17.214801"], ["updated_at", "2017-03-04 01:01:17.214801"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 01:01:17.216066"], ["created_at", "2017-03-04 01:01:17.216963"], ["updated_at", "2017-03-04 01:01:17.216963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:53.178817"], ["updated_at", "2017-03-04 01:01:53.178817"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 01:01:53.185026"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 01:01:53.192042"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 01:01:53.196086"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:54.855706"], ["updated_at", "2017-03-04 01:01:54.855706"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 01:01:54.863194"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:54.874078"], ["updated_at", "2017-03-04 01:01:54.874078"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 01:01:54.885005"], ["updated_at", "2017-03-04 01:01:54.885005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 01:01:54.887668"], ["updated_at", "2017-03-04 01:01:54.887668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 01:01:54.903261"], ["updated_at", "2017-03-04 01:01:54.903261"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:54.913083"], ["updated_at", "2017-03-04 01:01:54.913083"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 01:01:54.916885"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:01:54.922973"], ["updated_at", "2017-03-04 01:01:54.922973"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 01:01:54.925072"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 01:01:54.926641"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 01:01:54.930868"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 01:01:54.935804"], ["updated_at", "2017-03-04 01:01:54.935804"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 01:01:54.934009"], ["created_at", "2017-03-04 01:01:54.939000"], ["updated_at", "2017-03-04 01:01:54.939000"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 01:01:54.940495"], ["created_at", "2017-03-04 01:01:54.941615"], ["updated_at", "2017-03-04 01:01:54.941615"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 0], ["metadata_json", "{}"], ["created_at", "2017-03-04 01:05:13.680092"], ["updated_at", "2017-03-04 01:05:13.680092"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:05:15.771947"], ["updated_at", "2017-03-04 01:05:15.771947"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 01:05:15.778733"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:05:15.793948"], ["updated_at", "2017-03-04 01:05:15.793948"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 01:05:15.808163"], ["updated_at", "2017-03-04 01:05:15.808163"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 01:05:15.809939"], ["updated_at", "2017-03-04 01:05:15.809939"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 01:05:15.823353"], ["updated_at", "2017-03-04 01:05:15.823353"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 1], ["metadata_json", "{}"], ["created_at", "2017-03-04 01:05:15.831390"], ["updated_at", "2017-03-04 01:05:15.831390"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:05:15.840540"], ["updated_at", "2017-03-04 01:05:15.840540"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 01:05:15.844688"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 0], ["metadata_json", "{}"], ["created_at", "2017-03-04 01:05:15.849763"], ["updated_at", "2017-03-04 01:05:15.849763"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:05:15.854664"], ["updated_at", "2017-03-04 01:05:15.854664"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 01:05:15.856519"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 01:05:15.858182"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 01:05:15.862179"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 01:05:15.867179"], ["updated_at", "2017-03-04 01:05:15.867179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 01:05:15.865937"], ["created_at", "2017-03-04 01:05:15.870744"], ["updated_at", "2017-03-04 01:05:15.870744"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 01:05:15.872176"], ["created_at", "2017-03-04 01:05:15.873433"], ["updated_at", "2017-03-04 01:05:15.873433"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["metadata_json", "{}"], ["created_at", "2017-03-04 01:05:15.877777"], ["updated_at", "2017-03-04 01:05:15.877777"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[35m (1.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:30:28.895662"], ["updated_at", "2017-03-04 01:30:28.895662"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 01:30:28.902514"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:30:28.916349"], ["updated_at", "2017-03-04 01:30:28.916349"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 01:30:28.926784"], ["updated_at", "2017-03-04 01:30:28.926784"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 01:30:28.928884"], ["updated_at", "2017-03-04 01:30:28.928884"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 01:30:28.943416"], ["updated_at", "2017-03-04 01:30:28.943416"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 1], ["metadata_json", "{}"], ["created_at", "2017-03-04 01:30:28.950060"], ["updated_at", "2017-03-04 01:30:28.950060"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:30:28.956894"], ["updated_at", "2017-03-04 01:30:28.956894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 01:30:28.960917"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 0], ["metadata_json", "{}"], ["created_at", "2017-03-04 01:30:28.967114"], ["updated_at", "2017-03-04 01:30:28.967114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 01:30:28.972702"], ["updated_at", "2017-03-04 01:30:28.972702"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 01:30:28.975269"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 01:30:28.976959"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 01:30:28.979142"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 01:30:28.984978"], ["updated_at", "2017-03-04 01:30:28.984978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 01:30:28.983613"], ["created_at", "2017-03-04 01:30:28.987756"], ["updated_at", "2017-03-04 01:30:28.987756"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 01:30:28.989005"], ["created_at", "2017-03-04 01:30:28.990219"], ["updated_at", "2017-03-04 01:30:28.990219"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["metadata_json", "{}"], ["created_at", "2017-03-04 01:30:28.995085"], ["updated_at", "2017-03-04 01:30:28.995085"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.3ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:39.208004"], ["updated_at", "2017-03-04 03:16:39.208004"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 03:16:40.824813"], ["updated_at", "2017-03-04 03:16:40.824813"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 03:16:40.838329"], ["updated_at", "2017-03-04 03:16:40.838329"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 03:16:40.853002"], ["updated_at", "2017-03-04 03:16:40.853002"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 1], ["metadata_json", "{}"], ["created_at", "2017-03-04 03:16:40.891820"], ["updated_at", "2017-03-04 03:16:40.891820"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:40.901335"], ["updated_at", "2017-03-04 03:16:40.901335"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:40.906842"], ["updated_at", "2017-03-04 03:16:40.906842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:40.912725"], ["updated_at", "2017-03-04 03:16:40.912725"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:40.927070"], ["updated_at", "2017-03-04 03:16:40.927070"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:40.932030"], ["updated_at", "2017-03-04 03:16:40.932030"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-04 03:16:40.936118"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:40.947140"], ["updated_at", "2017-03-04 03:16:40.947140"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 03:16:40.950948"], ["id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 0], ["metadata_json", "{}"], ["created_at", "2017-03-04 03:16:40.957911"], ["updated_at", "2017-03-04 03:16:40.957911"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:16:40.962508"], ["updated_at", "2017-03-04 03:16:40.962508"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 03:16:40.964115"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 03:16:40.966292"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 03:16:40.969643"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 03:16:40.974705"], ["updated_at", "2017-03-04 03:16:40.974705"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 03:16:40.973372"], ["created_at", "2017-03-04 03:16:40.977247"], ["updated_at", "2017-03-04 03:16:40.977247"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 03:16:40.978431"], ["created_at", "2017-03-04 03:16:40.979504"], ["updated_at", "2017-03-04 03:16:40.979504"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["metadata_json", "{}"], ["created_at", "2017-03-04 03:16:40.984005"], ["updated_at", "2017-03-04 03:16:40.984005"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.1ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (2.5ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (2.5ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.5ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (3.4ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "transactable_id" integer, "transactable_type" varchar, "state" varchar, "extends_memberships_for_days" integer, "metadata_json" text, "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220231705"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170221140942"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.4ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.8ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (2.2ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "transactable_id" integer, "transactable_type" varchar, "state" varchar, "extends_memberships_for_days" integer, "metadata_json" text, "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.5ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "transactable_id" integer, "transactable_type" varchar, "state" varchar, "extends_memberships_for_days" integer, "metadata_json" text, "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "payful_txn_type_id" ON "payful_transactions" ("transactable_type", "transactable_id")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220231705"]]
  [1m[35m (3.1ms)[0m  commit transaction
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170221140942"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "payful_txn_type_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (1.6ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (4.9ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar, "state" varchar, "extends_memberships_for_days" integer, "metadata_json" text, "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "payful_txn_owner_type_id" ON "payful_transactions" ("owner_type", "owner_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220231705"]]
  [1m[35m (1.1ms)[0m  commit transaction
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170221140942"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "payful_txn_owner_type_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (3.4ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar, "state" varchar NOT NULL, "complete_at" datetime, "extends_memberships_for_days" integer, "metadata_json" text DEFAULT '{}', "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "payful_txn_owner_type_id" ON "payful_transactions" ("owner_type", "owner_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220231705"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170221140942"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "payful_txn_owner_type_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (2.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar, "state" varchar NOT NULL, "complete_at" datetime, "extends_memberships_for_days" integer, "metadata_json" text DEFAULT '{}', "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "payful_txn_owner_type_id" ON "payful_transactions" ("owner_type", "owner_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220231705"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170221140942"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "payful_txn_owner_type_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (5.8ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.6ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar, "state" varchar NOT NULL, "completed_at" datetime, "extends_memberships_for_days" integer, "metadata_json" text DEFAULT '{}', "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "payful_txn_owner_type_id" ON "payful_transactions" ("owner_type", "owner_id")
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220231705"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170221140942"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["completed_at", "2017-03-04 03:53:12.889786"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:53:12.955363"], ["updated_at", "2017-03-04 03:53:12.955363"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["completed_at", "2017-03-04 03:53:26.122832"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:53:26.181120"], ["updated_at", "2017-03-04 03:53:26.181120"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["completed_at", "2017-03-04 03:55:01.321726"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:55:01.378564"], ["updated_at", "2017-03-04 03:55:01.378564"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 03:00:00.000000')
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["completed_at", "2017-03-04 03:55:24.253612"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:55:24.309481"], ["updated_at", "2017-03-04 03:55:24.309481"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 03:00:00.000000')
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["completed_at", "2017-03-04 03:55:45.819818"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:55:45.873837"], ["updated_at", "2017-03-04 03:55:45.873837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["completed_at", "2017-03-04 03:55:55.314426"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:55:55.373163"], ["updated_at", "2017-03-04 03:55:55.373163"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "pending"], ["completed_at", "2017-03-04 03:56:19.410601"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:56:19.469615"], ["updated_at", "2017-03-04 03:56:19.469615"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.3ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions"
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "complete"], ["completed_at", "2017-03-04 03:56:39.263717"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:56:39.318246"], ["updated_at", "2017-03-04 03:56:39.318246"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions"
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[35m (2.1ms)[0m  begin transaction
  [1m[36mPayful::Transaction Load (0.2ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "payful_transactions" ("state", "completed_at", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["state", "complete"], ["completed_at", "2017-02-28 23:00:00.000000"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:57:36.360682"], ["updated_at", "2017-03-04 03:57:36.360682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:37.014896"], ["updated_at", "2017-03-04 03:59:37.014896"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "state" = ?, "completed_at" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["state", "complete"], ["completed_at", "2017-03-04 03:59:37.021323"], ["updated_at", "2017-03-04 03:59:37.021959"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:41.197081"], ["updated_at", "2017-03-04 03:59:41.197081"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "state" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["state", "complete"], ["updated_at", "2017-03-04 03:59:41.203369"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:42.883957"], ["updated_at", "2017-03-04 03:59:42.883957"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:42.894585"], ["updated_at", "2017-03-04 03:59:42.894585"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:42.899013"], ["updated_at", "2017-03-04 03:59:42.899013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:42.912723"], ["updated_at", "2017-03-04 03:59:42.912723"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "state" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["state", "complete"], ["updated_at", "2017-03-04 03:59:42.915185"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:42.928127"], ["updated_at", "2017-03-04 03:59:42.928127"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "state" = ?, "completed_at" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["state", "complete"], ["completed_at", "2017-03-04 03:59:42.929557"], ["updated_at", "2017-03-04 03:59:42.930012"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.2ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 03:59:42.943845"], ["updated_at", "2017-03-04 03:59:42.943845"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 03:59:42.945864"], ["updated_at", "2017-03-04 03:59:42.945864"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 03:59:42.960166"], ["updated_at", "2017-03-04 03:59:42.960166"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 1], ["created_at", "2017-03-04 03:59:42.965545"], ["updated_at", "2017-03-04 03:59:42.965545"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:42.974853"], ["updated_at", "2017-03-04 03:59:42.974853"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 03:59:42.978216"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:42.982510"], ["updated_at", "2017-03-04 03:59:42.982510"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:42.987621"], ["updated_at", "2017-03-04 03:59:42.987621"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 03:59:42.989541"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 03:59:42.991972"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 03:59:42.994453"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:42.999322"], ["updated_at", "2017-03-04 03:59:42.999322"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:43.004539"], ["updated_at", "2017-03-04 03:59:43.004539"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 03:59:43.006625"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 03:59:43.011466"], ["updated_at", "2017-03-04 03:59:43.011466"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 03:59:43.010170"], ["created_at", "2017-03-04 03:59:43.014033"], ["updated_at", "2017-03-04 03:59:43.014033"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 03:59:43.015174"], ["created_at", "2017-03-04 03:59:43.016963"], ["updated_at", "2017-03-04 03:59:43.016963"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-03-04 03:59:43.022150"], ["updated_at", "2017-03-04 03:59:43.022150"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:58.311635"], ["updated_at", "2017-03-04 03:59:58.311635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:58.331499"], ["updated_at", "2017-03-04 03:59:58.331499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:58.338477"], ["updated_at", "2017-03-04 03:59:58.338477"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:58.349995"], ["updated_at", "2017-03-04 03:59:58.349995"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "state" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["state", "complete"], ["updated_at", "2017-03-04 03:59:58.353577"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:58.367898"], ["updated_at", "2017-03-04 03:59:58.367898"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "state" = ?, "completed_at" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["state", "complete"], ["completed_at", "2017-03-04 03:59:58.369255"], ["updated_at", "2017-03-04 03:59:58.369679"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-04 03:59:58.380539"], ["updated_at", "2017-03-04 03:59:58.380539"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 03:59:58.382508"], ["updated_at", "2017-03-04 03:59:58.382508"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-04 03:59:58.394329"], ["updated_at", "2017-03-04 03:59:58.394329"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 1], ["created_at", "2017-03-04 03:59:58.401885"], ["updated_at", "2017-03-04 03:59:58.401885"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:58.408763"], ["updated_at", "2017-03-04 03:59:58.408763"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-04 03:59:58.412047"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 0], ["created_at", "2017-03-04 03:59:58.416521"], ["updated_at", "2017-03-04 03:59:58.416521"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:58.421816"], ["updated_at", "2017-03-04 03:59:58.421816"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-04 03:59:58.423902"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-04 03:59:58.425458"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-04 03:59:58.427374"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:58.433826"], ["updated_at", "2017-03-04 03:59:58.433826"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-04 03:59:58.438613"], ["updated_at", "2017-03-04 03:59:58.438613"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-04 03:59:58.440535"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-04 03:59:58.445296"], ["updated_at", "2017-03-04 03:59:58.445296"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-05 03:59:58.444097"], ["created_at", "2017-03-04 03:59:58.447670"], ["updated_at", "2017-03-04 03:59:58.447670"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-03 03:59:58.448778"], ["created_at", "2017-03-04 03:59:58.450404"], ["updated_at", "2017-03-04 03:59:58.450404"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "state", "amount_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["state", "pending"], ["amount_in_cents", 49800], ["created_at", "2017-03-04 03:59:58.455990"], ["updated_at", "2017-03-04 03:59:58.455990"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:50.543869"], ["updated_at", "2017-03-05 00:49:50.543869"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:50.568323"], ["updated_at", "2017-03-05 00:49:50.568323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:50.572904"], ["updated_at", "2017-03-05 00:49:50.572904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:49:50.603829"], ["updated_at", "2017-03-05 00:49:50.603829"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:49:50.606154"], ["updated_at", "2017-03-05 00:49:50.606154"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-05 00:49:50.631387"], ["updated_at", "2017-03-05 00:49:50.631387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:50.668434"], ["updated_at", "2017-03-05 00:49:50.668434"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-05 00:49:50.676350"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:50.690123"], ["updated_at", "2017-03-05 00:49:50.690123"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-05 00:49:50.693669"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-05 00:49:50.696418"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-05 00:49:50.699415"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:50.704615"], ["updated_at", "2017-03-05 00:49:50.704615"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:50.712058"], ["updated_at", "2017-03-05 00:49:50.712058"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-05 00:49:50.714501"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:49:50.719520"], ["updated_at", "2017-03-05 00:49:50.719520"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-06 00:49:50.717236"], ["created_at", "2017-03-05 00:49:50.723176"], ["updated_at", "2017-03-05 00:49:50.723176"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-04 00:49:50.725181"], ["created_at", "2017-03-05 00:49:50.726369"], ["updated_at", "2017-03-05 00:49:50.726369"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:52.621165"], ["updated_at", "2017-03-05 00:49:52.621165"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:52.631200"], ["updated_at", "2017-03-05 00:49:52.631200"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:52.635172"], ["updated_at", "2017-03-05 00:49:52.635172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:49:52.663874"], ["updated_at", "2017-03-05 00:49:52.663874"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:49:52.665842"], ["updated_at", "2017-03-05 00:49:52.665842"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-05 00:49:52.681357"], ["updated_at", "2017-03-05 00:49:52.681357"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:52.713510"], ["updated_at", "2017-03-05 00:49:52.713510"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-05 00:49:52.719276"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:52.734500"], ["updated_at", "2017-03-05 00:49:52.734500"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-05 00:49:52.736795"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-05 00:49:52.739120"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.2ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-05 00:49:52.742470"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:52.747300"], ["updated_at", "2017-03-05 00:49:52.747300"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:49:52.752497"], ["updated_at", "2017-03-05 00:49:52.752497"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-05 00:49:52.757338"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:49:52.764201"], ["updated_at", "2017-03-05 00:49:52.764201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-06 00:49:52.762077"], ["created_at", "2017-03-05 00:49:52.768891"], ["updated_at", "2017-03-05 00:49:52.768891"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-04 00:49:52.772066"], ["created_at", "2017-03-05 00:49:52.774703"], ["updated_at", "2017-03-05 00:49:52.774703"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:50:55.302533"], ["updated_at", "2017-03-05 00:50:55.302533"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-05 00:50:55.309569"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:50:55.324097"], ["updated_at", "2017-03-05 00:50:55.324097"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:50:55.337196"], ["updated_at", "2017-03-05 00:50:55.337196"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-06 00:50:55.327247"], ["created_at", "2017-03-05 00:50:55.356669"], ["updated_at", "2017-03-05 00:50:55.356669"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-04 00:50:55.358045"], ["created_at", "2017-03-05 00:50:55.358997"], ["updated_at", "2017-03-05 00:50:55.358997"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["amount_in_cents", 50000], ["state", "pending"], ["created_at", "2017-03-05 00:50:55.389836"], ["updated_at", "2017-03-05 00:50:55.389836"]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:50:55.416480"], ["updated_at", "2017-03-05 00:50:55.416480"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:50:55.418340"], ["updated_at", "2017-03-05 00:50:55.418340"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-05 00:50:55.421730"], ["updated_at", "2017-03-05 00:50:55.421730"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:50:55.430250"], ["updated_at", "2017-03-05 00:50:55.430250"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-05 00:50:55.434635"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:50:55.439227"], ["updated_at", "2017-03-05 00:50:55.439227"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-05 00:50:55.441360"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-05 00:50:55.442849"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-05 00:50:55.445063"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 50000], ["state", "pending"], ["created_at", "2017-03-05 00:50:55.448481"], ["updated_at", "2017-03-05 00:50:55.448481"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:50:55.452994"], ["updated_at", "2017-03-05 00:50:55.452994"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:50:55.458347"], ["updated_at", "2017-03-05 00:50:55.458347"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:50:55.463567"], ["updated_at", "2017-03-05 00:50:55.463567"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:20.995136"], ["updated_at", "2017-03-05 00:51:20.995136"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-05 00:51:21.004304"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:21.028832"], ["updated_at", "2017-03-05 00:51:21.028832"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:51:21.040475"], ["updated_at", "2017-03-05 00:51:21.040475"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-06 00:51:21.033137"], ["created_at", "2017-03-05 00:51:21.059050"], ["updated_at", "2017-03-05 00:51:21.059050"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-04 00:51:21.060728"], ["created_at", "2017-03-05 00:51:21.062413"], ["updated_at", "2017-03-05 00:51:21.062413"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:51:21.086736"], ["updated_at", "2017-03-05 00:51:21.086736"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:51:21.097785"], ["updated_at", "2017-03-05 00:51:21.097785"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:51:21.099426"], ["updated_at", "2017-03-05 00:51:21.099426"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-05 00:51:21.102025"], ["updated_at", "2017-03-05 00:51:21.102025"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:21.109013"], ["updated_at", "2017-03-05 00:51:21.109013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-05 00:51:21.111912"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:21.115455"], ["updated_at", "2017-03-05 00:51:21.115455"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-05 00:51:21.117359"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-05 00:51:21.119426"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-05 00:51:21.121823"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 50000], ["state", "pending"], ["created_at", "2017-03-05 00:51:21.125901"], ["updated_at", "2017-03-05 00:51:21.125901"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:21.130396"], ["updated_at", "2017-03-05 00:51:21.130396"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:21.135142"], ["updated_at", "2017-03-05 00:51:21.135142"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:21.140198"], ["updated_at", "2017-03-05 00:51:21.140198"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:52.025749"], ["updated_at", "2017-03-05 00:51:52.025749"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-05 00:51:52.032830"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:52.046878"], ["updated_at", "2017-03-05 00:51:52.046878"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:51:52.057654"], ["updated_at", "2017-03-05 00:51:52.057654"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-06 00:51:52.049949"], ["created_at", "2017-03-05 00:51:52.075155"], ["updated_at", "2017-03-05 00:51:52.075155"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-04 00:51:52.076839"], ["created_at", "2017-03-05 00:51:52.077936"], ["updated_at", "2017-03-05 00:51:52.077936"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:51:52.098741"], ["updated_at", "2017-03-05 00:51:52.098741"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:51:52.107512"], ["updated_at", "2017-03-05 00:51:52.107512"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:51:52.109191"], ["updated_at", "2017-03-05 00:51:52.109191"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-05 00:51:52.112247"], ["updated_at", "2017-03-05 00:51:52.112247"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:51:52.115554"], ["updated_at", "2017-03-05 00:51:52.115554"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:52.122264"], ["updated_at", "2017-03-05 00:51:52.122264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-05 00:51:52.125744"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:52.130040"], ["updated_at", "2017-03-05 00:51:52.130040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-05 00:51:52.132330"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-05 00:51:52.133949"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-05 00:51:52.135853"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 50000], ["state", "pending"], ["created_at", "2017-03-05 00:51:52.139460"], ["updated_at", "2017-03-05 00:51:52.139460"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:52.144130"], ["updated_at", "2017-03-05 00:51:52.144130"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:52.149074"], ["updated_at", "2017-03-05 00:51:52.149074"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:51:52.153772"], ["updated_at", "2017-03-05 00:51:52.153772"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:52:09.006319"], ["updated_at", "2017-03-05 00:52:09.006319"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "payful_transactions" SET "state" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["state", "complete"], ["updated_at", "2017-03-05 00:52:09.013860"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:09.040245"], ["updated_at", "2017-03-05 00:52:09.040245"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["payment_url", "old-url"], ["updated_at", "2017-03-05 00:52:09.042442"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:09.047210"], ["updated_at", "2017-03-05 00:52:09.047210"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:52:09.058435"], ["updated_at", "2017-03-05 00:52:09.058435"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-06 00:52:09.050508"], ["created_at", "2017-03-05 00:52:09.077053"], ["updated_at", "2017-03-05 00:52:09.077053"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-04 00:52:09.078685"], ["created_at", "2017-03-05 00:52:09.079711"], ["updated_at", "2017-03-05 00:52:09.079711"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_transactions" ("extends_memberships_for_days", "amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["extends_memberships_for_days", 30], ["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:52:09.101709"], ["updated_at", "2017-03-05 00:52:09.101709"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 2], ["transaction_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:52:09.111632"], ["updated_at", "2017-03-05 00:52:09.111632"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:52:09.113276"], ["updated_at", "2017-03-05 00:52:09.113276"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-05 00:52:09.115809"], ["updated_at", "2017-03-05 00:52:09.115809"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:52:09.118515"], ["updated_at", "2017-03-05 00:52:09.118515"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 1], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:09.125841"], ["updated_at", "2017-03-05 00:52:09.125841"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-05 00:52:09.128502"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:09.132531"], ["updated_at", "2017-03-05 00:52:09.132531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-05 00:52:09.135072"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-05 00:52:09.136517"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-05 00:52:09.138455"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["amount_in_cents", 50000], ["state", "pending"], ["created_at", "2017-03-05 00:52:09.141772"], ["updated_at", "2017-03-05 00:52:09.141772"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:09.146462"], ["updated_at", "2017-03-05 00:52:09.146462"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:09.151322"], ["updated_at", "2017-03-05 00:52:09.151322"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:09.155357"], ["updated_at", "2017-03-05 00:52:09.155357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:52:22.317493"], ["updated_at", "2017-03-05 00:52:22.317493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "payful_transactions" SET "state" = ?, "completed_at" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["state", "complete"], ["completed_at", "2017-03-05 00:52:22.325495"], ["updated_at", "2017-03-05 00:52:22.326260"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.2ms)[0m  [1mSELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:52:22.350724"], ["updated_at", "2017-03-05 00:52:22.350724"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "state" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["state", "complete"], ["updated_at", "2017-03-05 00:52:22.355604"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.1ms)[0m  SELECT "payful_transactions".* FROM "payful_transactions" WHERE (payful_transactions.state = 'complete' AND completed_at >= '2017-03-01 00:00:00.000000')
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:22.362947"], ["updated_at", "2017-03-05 00:52:22.362947"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "payment_url" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["payment_url", "old-url"], ["updated_at", "2017-03-05 00:52:22.364725"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:22.369744"], ["updated_at", "2017-03-05 00:52:22.369744"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:52:22.394581"], ["updated_at", "2017-03-05 00:52:22.394581"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 19900], ["expires_at", "2017-03-06 00:52:22.383701"], ["created_at", "2017-03-05 00:52:22.424353"], ["updated_at", "2017-03-05 00:52:22.424353"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 29900], ["expires_at", "2017-03-04 00:52:22.426792"], ["created_at", "2017-03-05 00:52:22.428056"], ["updated_at", "2017-03-05 00:52:22.428056"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_transactions" ("extends_memberships_for_days", "amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["extends_memberships_for_days", 30], ["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:52:22.457261"], ["updated_at", "2017-03-05 00:52:22.457261"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)  [["membership_id", 2], ["transaction_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Startup"], ["created_at", "2017-03-05 00:52:22.468858"], ["updated_at", "2017-03-05 00:52:22.468858"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 00:52:22.471069"], ["updated_at", "2017-03-05 00:52:22.471069"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("base_price_in_cents", "memberable_id", "memberable_type", "payful_service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["base_price_in_cents", 1], ["memberable_id", 1], ["memberable_type", "Payful::Service"], ["payful_service_id", 2], ["created_at", "2017-03-05 00:52:22.474460"], ["updated_at", "2017-03-05 00:52:22.474460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 12300], ["state", "pending"], ["created_at", "2017-03-05 00:52:22.477684"], ["updated_at", "2017-03-05 00:52:22.477684"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_memberships_transactions" ("membership_id", "transaction_id") VALUES (?, ?)[0m  [["membership_id", 1], ["transaction_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:22.488554"], ["updated_at", "2017-03-05 00:52:22.488554"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Transaction Load (0.2ms)[0m  SELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "payful_transactions" SET "extends_memberships_for_days" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["extends_memberships_for_days", 2], ["updated_at", "2017-03-05 00:52:22.493172"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:22.497888"], ["updated_at", "2017-03-05 00:52:22.497888"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?  [["metadata_json", "{\"test\":\"value\"}"], ["updated_at", "2017-03-05 00:52:22.503616"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test2\":\"value2\"}"], ["updated_at", "2017-03-05 00:52:22.506948"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Transaction Load (0.1ms)[0m  [1mSELECT  "payful_transactions".* FROM "payful_transactions"  ORDER BY "payful_transactions"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "payful_transactions" SET "metadata_json" = ?, "updated_at" = ? WHERE "payful_transactions"."id" = ?[0m  [["metadata_json", "{\"test3\":\"value3\"}"], ["updated_at", "2017-03-05 00:52:22.509849"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("amount_in_cents", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["amount_in_cents", 50000], ["state", "pending"], ["created_at", "2017-03-05 00:52:22.513580"], ["updated_at", "2017-03-05 00:52:22.513580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:22.521982"], ["updated_at", "2017-03-05 00:52:22.521982"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:22.537325"], ["updated_at", "2017-03-05 00:52:22.537325"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_transactions" ("state", "amount_in_cents", "payment_type", "metadata_json", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["state", "pending"], ["amount_in_cents", 50000], ["payment_type", "bank_slip"], ["metadata_json", "{\"test\":\"testv\"}"], ["created_at", "2017-03-05 00:52:22.543024"], ["updated_at", "2017-03-05 00:52:22.543024"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.7ms)[0m  DROP TABLE "payful_service_pricings"
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170221140942"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  DROP TABLE "payful_memberships_transactions"
  [1m[36m (0.4ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "payful_txn_owner_type_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_transactions_on_payment_remote_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_payful_transactions_on_state"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "payful_transactions"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170220231705"]]
  [1m[35m (3.4ms)[0m  commit transaction
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
[0m
  [1m[35m (1.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (1.4ms)[0m  [1mDROP INDEX "index_payful_memberships_on_active"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_payful_memberships_on_memberable_id_and_memberable_type"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "payful_memberships"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220131023"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "payful_services"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170220130357"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePayfulServices (20170220130357)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220130357"]]
  [1m[36m (9.8ms)[0m  [1mcommit transaction[0m
Migrating to CreatePayfulMemberships (20170220131023)
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "payful_memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "payful_service_id" integer, "memberable_id" integer, "memberable_type" varchar, "active" boolean, "base_price_in_cents" integer, "base_price_days" integer, "expires_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_payful_service_id" ON "payful_memberships" ("payful_service_id")[0m
  [1m[35m (0.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_memberships_on_memberable_id_and_memberable_type" ON "payful_memberships" ("memberable_id", "memberable_type")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_payful_memberships_on_active" ON "payful_memberships" ("active")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220131023"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to CreatePayfulTransactions (20170220231705)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "owner_type" varchar, "state" varchar NOT NULL, "completed_at" datetime, "extends_memberships_for_days" integer, "metadata_json" text DEFAULT '{}', "amount_in_cents" integer NOT NULL, "payment_type" varchar, "payment_url" varchar, "payment_remote_id" varchar, "payment_emailed_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_state" ON "payful_transactions" ("state")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_transactions_on_payment_remote_id" ON "payful_transactions" ("payment_remote_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "payful_txn_owner_type_id" ON "payful_transactions" ("owner_type", "owner_id")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "payful_memberships_transactions" ("membership_id" integer NOT NULL, "transaction_id" integer NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_membership_id" ON "payful_memberships_transactions" ("membership_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_payful_memberships_transactions_on_transaction_id" ON "payful_memberships_transactions" ("transaction_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220231705"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreatePayfulServicePricings (20170221140942)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "payful_service_pricings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "period_in_days" integer, "amount_in_cents" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_payful_service_pricings_on_service_id" ON "payful_service_pricings" ("service_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170221140942"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_active' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_memberable_id_and_memberable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_on_payful_service_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_transaction_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_memberships_transactions_on_membership_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_service_pricings_on_service_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='payful_txn_owner_type_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_payment_remote_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_payful_transactions_on_state' AND type='index'
[0m
  [1m[35m (1.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:35:57.287986"], ["updated_at", "2017-03-05 01:35:57.287986"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:35:57.322828"], ["updated_at", "2017-03-05 01:35:57.322828"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:35:57.335199"], ["updated_at", "2017-03-05 01:35:57.335199"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:35:57.337263"], ["updated_at", "2017-03-05 01:35:57.337263"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1[0m  [["base_price_days", 30], ["payful_service_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 01:35:57.344360"], ["updated_at", "2017-03-05 01:35:57.344360"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:35:57.346366"], ["updated_at", "2017-03-05 01:35:57.346366"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 10000], ["created_at", "2017-03-05 01:35:57.349722"], ["updated_at", "2017-03-05 01:35:57.349722"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:36:34.007678"], ["updated_at", "2017-03-05 01:36:34.007678"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:36:34.048280"], ["updated_at", "2017-03-05 01:36:34.048280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["payful_service_id", 1], ["base_price_in_cents", 12], ["created_at", "2017-03-05 01:36:34.058176"], ["updated_at", "2017-03-05 01:36:34.058176"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:36:59.779870"], ["updated_at", "2017-03-05 01:36:59.779870"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:36:59.806279"], ["updated_at", "2017-03-05 01:36:59.806279"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["payful_service_id", 1], ["base_price_in_cents", 12], ["created_at", "2017-03-05 01:36:59.816179"], ["updated_at", "2017-03-05 01:36:59.816179"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.3ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  [["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36mPayful::Membership Load (0.2ms)[0m  [1mSELECT "payful_memberships".* FROM "payful_memberships"[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."id" = ? LIMIT 1  [["id", 1]]
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.4ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:39:43.731673"], ["updated_at", "2017-03-05 01:39:43.731673"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:39:43.773244"], ["updated_at", "2017-03-05 01:39:43.773244"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 01:39:43.783789"], ["updated_at", "2017-03-05 01:39:43.783789"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.4ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:39:50.595295"], ["updated_at", "2017-03-05 01:39:50.595295"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:39:50.630566"], ["updated_at", "2017-03-05 01:39:50.630566"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 01:39:50.639838"], ["updated_at", "2017-03-05 01:39:50.639838"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.4ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:39:52.726535"], ["updated_at", "2017-03-05 01:39:52.726535"]]
  [1m[35mPayful::ServicePricing Load (0.3ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:39:52.759454"], ["updated_at", "2017-03-05 01:39:52.759454"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 01:39:52.768691"], ["updated_at", "2017-03-05 01:39:52.768691"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:39:52.775626"], ["updated_at", "2017-03-05 01:39:52.775626"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:39:52.777806"], ["updated_at", "2017-03-05 01:39:52.777806"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1[0m  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 01:39:52.782954"], ["updated_at", "2017-03-05 01:39:52.782954"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:39:52.785852"], ["updated_at", "2017-03-05 01:39:52.785852"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 10000], ["created_at", "2017-03-05 01:39:52.789202"], ["updated_at", "2017-03-05 01:39:52.789202"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:40:45.381877"], ["updated_at", "2017-03-05 01:40:45.381877"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:40:45.420790"], ["updated_at", "2017-03-05 01:40:45.420790"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 10000], ["created_at", "2017-03-05 01:40:45.431429"], ["updated_at", "2017-03-05 01:40:45.431429"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.5ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:47:54.908016"], ["updated_at", "2017-03-05 01:47:54.908016"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:47:54.949774"], ["updated_at", "2017-03-05 01:47:54.949774"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 10000], ["base_price_days", 30], ["created_at", "2017-03-05 01:47:54.962114"], ["updated_at", "2017-03-05 01:47:54.962114"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.4ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:49:08.941439"], ["updated_at", "2017-03-05 01:49:08.941439"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:49:08.975031"], ["updated_at", "2017-03-05 01:49:08.975031"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 01:49:08.986612"], ["updated_at", "2017-03-05 01:49:08.986612"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:51:46.973479"], ["updated_at", "2017-03-05 01:51:46.973479"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:51:47.006420"], ["updated_at", "2017-03-05 01:51:47.006420"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 01:51:47.017057"], ["updated_at", "2017-03-05 01:51:47.017057"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:51:48.973749"], ["updated_at", "2017-03-05 01:51:48.973749"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:51:49.005533"], ["updated_at", "2017-03-05 01:51:49.005533"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.2ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1[0m  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 01:51:49.012729"], ["updated_at", "2017-03-05 01:51:49.012729"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:51:49.014647"], ["updated_at", "2017-03-05 01:51:49.014647"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 01:51:49.023370"], ["updated_at", "2017-03-05 01:51:49.023370"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.0ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1[0m  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 01:51:49.028381"], ["updated_at", "2017-03-05 01:51:49.028381"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:51:49.030647"], ["updated_at", "2017-03-05 01:51:49.030647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 2222], ["base_price_days", 30], ["created_at", "2017-03-05 01:51:49.034691"], ["updated_at", "2017-03-05 01:51:49.034691"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 01:51:49.041273"], ["updated_at", "2017-03-05 01:51:49.041273"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 01:51:49.043607"], ["updated_at", "2017-03-05 01:51:49.043607"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 01:51:49.045600"], ["updated_at", "2017-03-05 01:51:49.045600"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.4ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 02:05:33.502751"], ["updated_at", "2017-03-05 02:05:33.502751"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 02:05:33.548653"], ["updated_at", "2017-03-05 02:05:33.548653"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1[0m  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 02:05:33.559972"], ["updated_at", "2017-03-05 02:05:33.559972"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 02:05:33.563110"], ["updated_at", "2017-03-05 02:05:33.563110"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 02:05:33.578831"], ["updated_at", "2017-03-05 02:05:33.578831"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1[0m  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 02:05:33.584429"], ["updated_at", "2017-03-05 02:05:33.584429"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 02:05:33.586704"], ["updated_at", "2017-03-05 02:05:33.586704"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 2222], ["base_price_days", 30], ["created_at", "2017-03-05 02:05:33.591158"], ["updated_at", "2017-03-05 02:05:33.591158"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 02:05:33.595364"], ["updated_at", "2017-03-05 02:05:33.595364"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 02:05:33.597970"], ["updated_at", "2017-03-05 02:05:33.597970"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 02:05:33.600613"], ["updated_at", "2017-03-05 02:05:33.600613"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (2.8ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 19:20:58.236245"], ["updated_at", "2017-03-05 19:20:58.236245"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:20:58.259412"], ["updated_at", "2017-03-05 19:20:58.259412"]]
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 2], ["created_at", "2017-03-05 19:20:58.292827"], ["updated_at", "2017-03-05 19:20:58.292827"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("memberable_id", "memberable_type", "active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["memberable_id", 1], ["memberable_type", "Payful::Service"], ["active", "t"], ["payful_service_id", 2], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:20:58.303643"], ["updated_at", "2017-03-05 19:20:58.303643"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPayful::Membership Load (0.1ms)[0m  [1mSELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1[0m  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 2]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 19:21:17.802937"], ["updated_at", "2017-03-05 19:21:17.802937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:21:17.824944"], ["updated_at", "2017-03-05 19:21:17.824944"]]
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 2], ["created_at", "2017-03-05 19:21:17.860043"], ["updated_at", "2017-03-05 19:21:17.860043"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("memberable_id", "memberable_type", "active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["memberable_id", 1], ["memberable_type", "Payful::Service"], ["active", "t"], ["payful_service_id", 2], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:21:17.870137"], ["updated_at", "2017-03-05 19:21:17.870137"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Startup"], ["created_at", "2017-03-05 19:21:17.872267"], ["updated_at", "2017-03-05 19:21:17.872267"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (1.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:48:48.019782"], ["updated_at", "2017-03-05 19:48:48.019782"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:48:48.052322"], ["updated_at", "2017-03-05 19:48:48.052322"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:49:01.378353"], ["updated_at", "2017-03-05 19:49:01.378353"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:49:01.407608"], ["updated_at", "2017-03-05 19:49:01.407608"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:49:01.333927"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:49:01.418474"], ["updated_at", "2017-03-05 19:49:01.418474"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.4ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:49:18.555439"], ["updated_at", "2017-03-05 19:49:18.555439"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:49:18.589398"], ["updated_at", "2017-03-05 19:49:18.589398"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:49:49.808053"], ["updated_at", "2017-03-05 19:49:49.808053"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:49:49.849056"], ["updated_at", "2017-03-05 19:49:49.849056"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:49:49.781042"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:49:49.861467"], ["updated_at", "2017-03-05 19:49:49.861467"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:50:00.496827"], ["updated_at", "2017-03-05 19:50:00.496827"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:50:00.532585"], ["updated_at", "2017-03-05 19:50:00.532585"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:50:00.463434"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:50:00.541513"], ["updated_at", "2017-03-05 19:50:00.541513"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:50:03.494697"], ["updated_at", "2017-03-05 19:50:03.494697"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:50:03.529360"], ["updated_at", "2017-03-05 19:50:03.529360"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:50:03.459240"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:50:03.539068"], ["updated_at", "2017-03-05 19:50:03.539068"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:50:10.127528"], ["updated_at", "2017-03-05 19:50:10.127528"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:50:10.161341"], ["updated_at", "2017-03-05 19:50:10.161341"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:50:10.093825"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:50:10.172448"], ["updated_at", "2017-03-05 19:50:10.172448"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:50:32.294484"], ["updated_at", "2017-03-05 19:50:32.294484"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:50:32.326633"], ["updated_at", "2017-03-05 19:50:32.326633"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-06 19:50:32.259387"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:50:32.338426"], ["updated_at", "2017-03-05 19:50:32.338426"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:51:20.347410"], ["updated_at", "2017-03-05 19:51:20.347410"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:51:20.385491"], ["updated_at", "2017-03-05 19:51:20.385491"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-06 19:51:20.319979"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:51:20.394842"], ["updated_at", "2017-03-05 19:51:20.394842"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:51:29.487264"], ["updated_at", "2017-03-05 19:51:29.487264"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:51:29.527490"], ["updated_at", "2017-03-05 19:51:29.527490"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-06 19:51:29.456543"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:51:29.536822"], ["updated_at", "2017-03-05 19:51:29.536822"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:51:29.538211')
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:51:32.864877"], ["updated_at", "2017-03-05 19:51:32.864877"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:51:32.898487"], ["updated_at", "2017-03-05 19:51:32.898487"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:51:32.832329"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:51:32.907372"], ["updated_at", "2017-03-05 19:51:32.907372"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:51:32.909033')
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.9ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:21.325456"], ["updated_at", "2017-03-05 19:52:21.325456"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.358437"], ["updated_at", "2017-03-05 19:52:21.358437"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:52:21.368369"], ["updated_at", "2017-03-05 19:52:21.368369"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:21.375301"], ["updated_at", "2017-03-05 19:52:21.375301"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.377475"], ["updated_at", "2017-03-05 19:52:21.377475"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:52:21.379044"], ["updated_at", "2017-03-05 19:52:21.379044"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:21.406141"], ["updated_at", "2017-03-05 19:52:21.406141"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.408549"], ["updated_at", "2017-03-05 19:52:21.408549"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:52:21.404162"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:52:21.410406"], ["updated_at", "2017-03-05 19:52:21.410406"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:52:21.411655')
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:21.416960"], ["updated_at", "2017-03-05 19:52:21.416960"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.421420"], ["updated_at", "2017-03-05 19:52:21.421420"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-06 19:52:21.414916"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:52:21.423959"], ["updated_at", "2017-03-05 19:52:21.423959"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:52:21.425735')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:21.429334"], ["updated_at", "2017-03-05 19:52:21.429334"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.431409"], ["updated_at", "2017-03-05 19:52:21.431409"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-04 19:52:21.427843"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:52:21.433119"], ["updated_at", "2017-03-05 19:52:21.433119"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:52:21.434362')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:21.437937"], ["updated_at", "2017-03-05 19:52:21.437937"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.440423"], ["updated_at", "2017-03-05 19:52:21.440423"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-04 19:52:21.436352"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:52:21.442865"], ["updated_at", "2017-03-05 19:52:21.442865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.2ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:52:21.445611')
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:21.451046"], ["updated_at", "2017-03-05 19:52:21.451046"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.453971"], ["updated_at", "2017-03-05 19:52:21.453971"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 2222], ["base_price_days", 30], ["created_at", "2017-03-05 19:52:21.456506"], ["updated_at", "2017-03-05 19:52:21.456506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:52:21.460576"], ["updated_at", "2017-03-05 19:52:21.460576"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:21.462525"], ["updated_at", "2017-03-05 19:52:21.462525"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:52:21.464876"], ["updated_at", "2017-03-05 19:52:21.464876"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:52:29.932880"], ["updated_at", "2017-03-05 19:52:29.932880"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:52:29.968035"], ["updated_at", "2017-03-05 19:52:29.968035"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:52:29.977519"], ["updated_at", "2017-03-05 19:52:29.977519"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_memberships" ("active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["active", "t"], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:53:39.090742"], ["updated_at", "2017-03-05 19:53:39.090742"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.2ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:53:39.133708"], ["updated_at", "2017-03-05 19:53:39.133708"]]
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:39.160670"], ["updated_at", "2017-03-05 19:53:39.160670"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.6ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.6ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:41.158147"], ["updated_at", "2017-03-05 19:53:41.158147"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.183407"], ["updated_at", "2017-03-05 19:53:41.183407"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:53:41.192348"], ["updated_at", "2017-03-05 19:53:41.192348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["active", "t"], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:53:41.198446"], ["updated_at", "2017-03-05 19:53:41.198446"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.0ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:53:41.200950"], ["updated_at", "2017-03-05 19:53:41.200950"]]
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.202724"], ["updated_at", "2017-03-05 19:53:41.202724"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:41.208425"], ["updated_at", "2017-03-05 19:53:41.208425"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.210594"], ["updated_at", "2017-03-05 19:53:41.210594"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:53:41.206333"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:41.212187"], ["updated_at", "2017-03-05 19:53:41.212187"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:41.213287')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:41.217353"], ["updated_at", "2017-03-05 19:53:41.217353"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.219918"], ["updated_at", "2017-03-05 19:53:41.219918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-06 19:53:41.215719"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:41.222181"], ["updated_at", "2017-03-05 19:53:41.222181"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:41.223640')
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:41.228904"], ["updated_at", "2017-03-05 19:53:41.228904"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.230898"], ["updated_at", "2017-03-05 19:53:41.230898"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-04 19:53:41.227399"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:41.232450"], ["updated_at", "2017-03-05 19:53:41.232450"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:41.233567')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:41.237920"], ["updated_at", "2017-03-05 19:53:41.237920"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.240245"], ["updated_at", "2017-03-05 19:53:41.240245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-04 19:53:41.236190"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:41.242224"], ["updated_at", "2017-03-05 19:53:41.242224"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:41.243316')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:41.246844"], ["updated_at", "2017-03-05 19:53:41.246844"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.249154"], ["updated_at", "2017-03-05 19:53:41.249154"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 2222], ["base_price_days", 30], ["created_at", "2017-03-05 19:53:41.253206"], ["updated_at", "2017-03-05 19:53:41.253206"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:53:41.257541"], ["updated_at", "2017-03-05 19:53:41.257541"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:41.261644"], ["updated_at", "2017-03-05 19:53:41.261644"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:41.263637"], ["updated_at", "2017-03-05 19:53:41.263637"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.3ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:46.605410"], ["updated_at", "2017-03-05 19:53:46.605410"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.639090"], ["updated_at", "2017-03-05 19:53:46.639090"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:53:46.648511"], ["updated_at", "2017-03-05 19:53:46.648511"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["active", "t"], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-05 19:53:46.654833"], ["updated_at", "2017-03-05 19:53:46.654833"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.0ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:53:46.657643"], ["updated_at", "2017-03-05 19:53:46.657643"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.659515"], ["updated_at", "2017-03-05 19:53:46.659515"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:46.665421"], ["updated_at", "2017-03-05 19:53:46.665421"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.667557"], ["updated_at", "2017-03-05 19:53:46.667557"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-06 19:53:46.663627"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:46.669138"], ["updated_at", "2017-03-05 19:53:46.669138"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:46.670361')
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:46.674353"], ["updated_at", "2017-03-05 19:53:46.674353"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.676751"], ["updated_at", "2017-03-05 19:53:46.676751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-06 19:53:46.673023"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:46.679511"], ["updated_at", "2017-03-05 19:53:46.679511"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:46.680782')
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:46.684830"], ["updated_at", "2017-03-05 19:53:46.684830"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.687233"], ["updated_at", "2017-03-05 19:53:46.687233"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-04 19:53:46.682929"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:46.688779"], ["updated_at", "2017-03-05 19:53:46.688779"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:46.690108')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.6ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:46.696707"], ["updated_at", "2017-03-05 19:53:46.696707"]]
  [1m[35mPayful::ServicePricing Load (0.2ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.699034"], ["updated_at", "2017-03-05 19:53:46.699034"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-04 19:53:46.692311"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:46.700852"], ["updated_at", "2017-03-05 19:53:46.700852"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' AND payful_memberships.expires_at > '2017-03-05 19:53:46.701922')
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-05 19:53:46.705709"], ["updated_at", "2017-03-05 19:53:46.705709"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.708064"], ["updated_at", "2017-03-05 19:53:46.708064"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 2222], ["base_price_days", 30], ["created_at", "2017-03-05 19:53:46.711241"], ["updated_at", "2017-03-05 19:53:46.711241"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-05 19:53:46.715400"], ["updated_at", "2017-03-05 19:53:46.715400"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-05 19:53:46.718574"], ["updated_at", "2017-03-05 19:53:46.718574"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-05 19:53:46.720811"], ["updated_at", "2017-03-05 19:53:46.720811"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (4.6ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.6ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:09:20.630477"], ["updated_at", "2017-03-08 01:09:20.630477"]]
  [1m[35mPayful::ServicePricing Load (0.5ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.668224"], ["updated_at", "2017-03-08 01:09:20.668224"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-08 01:09:20.679542"], ["updated_at", "2017-03-08 01:09:20.679542"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_memberships" ("active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["active", "t"], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-08 01:09:20.691691"], ["updated_at", "2017-03-08 01:09:20.691691"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.0ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-08 01:09:20.694384"], ["updated_at", "2017-03-08 01:09:20.694384"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.696548"], ["updated_at", "2017-03-08 01:09:20.696548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:09:20.708329"], ["updated_at", "2017-03-08 01:09:20.708329"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.710605"], ["updated_at", "2017-03-08 01:09:20.710605"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-09 01:09:20.701490"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:09:20.713375"], ["updated_at", "2017-03-08 01:09:20.713375"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' OR payful_memberships.expires_at > '2017-03-08 01:09:20.715352')
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:09:20.719034"], ["updated_at", "2017-03-08 01:09:20.719034"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.721608"], ["updated_at", "2017-03-08 01:09:20.721608"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-09 01:09:20.717687"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:09:20.723254"], ["updated_at", "2017-03-08 01:09:20.723254"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' OR payful_memberships.expires_at > '2017-03-08 01:09:20.724486')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:09:20.762063"], ["updated_at", "2017-03-08 01:09:20.762063"]]
  [1m[35mPayful::ServicePricing Load (0.1ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.765202"], ["updated_at", "2017-03-08 01:09:20.765202"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "f"], ["expires_at", "2017-03-07 01:09:20.760481"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:09:20.767434"], ["updated_at", "2017-03-08 01:09:20.767434"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' OR payful_memberships.expires_at > '2017-03-08 01:09:20.768732')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:09:20.772415"], ["updated_at", "2017-03-08 01:09:20.772415"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.774531"], ["updated_at", "2017-03-08 01:09:20.774531"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("active", "expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["active", "t"], ["expires_at", "2017-03-07 01:09:20.770857"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:09:20.776130"], ["updated_at", "2017-03-08 01:09:20.776130"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' OR payful_memberships.expires_at > '2017-03-08 01:09:20.777134')
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:09:20.783012"], ["updated_at", "2017-03-08 01:09:20.783012"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.785090"], ["updated_at", "2017-03-08 01:09:20.785090"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 2222], ["base_price_days", 30], ["created_at", "2017-03-08 01:09:20.787442"], ["updated_at", "2017-03-08 01:09:20.787442"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-08 01:09:20.791444"], ["updated_at", "2017-03-08 01:09:20.791444"]]
  [1m[36mPayful::ServicePricing Load (0.1ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:09:20.795146"], ["updated_at", "2017-03-08 01:09:20.795146"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:09:20.799046"], ["updated_at", "2017-03-08 01:09:20.799046"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.8ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:11:10.834011"], ["updated_at", "2017-03-08 01:11:10.834011"]]
  [1m[35mPayful::ServicePricing Load (0.5ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:11:10.868463"], ["updated_at", "2017-03-08 01:11:10.868463"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "payful_memberships" ("expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["expires_at", "2017-03-07 01:11:10.789153"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:11:10.882508"], ["updated_at", "2017-03-08 01:11:10.882508"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.active = 't' OR payful_memberships.expires_at > '2017-03-08 01:11:10.885599')
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.2ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:11:21.664186"], ["updated_at", "2017-03-08 01:11:21.664186"]]
  [1m[35mPayful::ServicePricing Load (0.5ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:11:21.703709"], ["updated_at", "2017-03-08 01:11:21.703709"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("active", "payful_service_id", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["active", "t"], ["payful_service_id", 1], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-08 01:11:21.713234"], ["updated_at", "2017-03-08 01:11:21.713234"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "payful_memberships" ("active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["active", "t"], ["base_price_in_cents", 12], ["base_price_days", 30], ["created_at", "2017-03-08 01:11:21.719780"], ["updated_at", "2017-03-08 01:11:21.719780"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.0ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-08 01:11:21.722157"], ["updated_at", "2017-03-08 01:11:21.722157"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:11:21.724050"], ["updated_at", "2017-03-08 01:11:21.724050"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.0ms)[0m  SELECT  "payful_memberships".* FROM "payful_memberships" WHERE "payful_memberships"."active" = ? AND "payful_memberships"."base_price_days" = ? AND "payful_memberships"."payful_service_id" = ?  ORDER BY "payful_memberships"."id" ASC LIMIT 1  [["active", "t"], ["base_price_days", 30], ["payful_service_id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:11:21.729600"], ["updated_at", "2017-03-08 01:11:21.729600"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:11:21.732138"], ["updated_at", "2017-03-08 01:11:21.732138"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_memberships" ("expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["expires_at", "2017-03-09 01:11:21.727589"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:11:21.734542"], ["updated_at", "2017-03-08 01:11:21.734542"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.4ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.expires_at > '2017-03-08 01:11:21.735981')
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:11:21.741730"], ["updated_at", "2017-03-08 01:11:21.741730"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:11:21.744399"], ["updated_at", "2017-03-08 01:11:21.744399"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_memberships" ("expires_at", "payful_service_id", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["expires_at", "2017-03-07 01:11:21.740281"], ["payful_service_id", 1], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:11:21.746063"], ["updated_at", "2017-03-08 01:11:21.746063"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPayful::Membership Load (0.1ms)[0m  SELECT "payful_memberships".* FROM "payful_memberships" WHERE (payful_memberships.expires_at > '2017-03-08 01:11:21.747228')
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPayful::Service Load (0.1ms)[0m  SELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1  [["name", "service"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "service"], ["created_at", "2017-03-08 01:11:21.750644"], ["updated_at", "2017-03-08 01:11:21.750644"]]
  [1m[35mPayful::ServicePricing Load (0.0ms)[0m  SELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?  [["service_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:11:21.752702"], ["updated_at", "2017-03-08 01:11:21.752702"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_in_cents", "base_price_days", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["payful_service_id", 1], ["active", "t"], ["base_price_in_cents", 2222], ["base_price_days", 30], ["created_at", "2017-03-08 01:11:21.756293"], ["updated_at", "2017-03-08 01:11:21.756293"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPayful::Service Load (0.1ms)[0m  [1mSELECT  "payful_services".* FROM "payful_services" WHERE "payful_services"."name" = ?  ORDER BY "payful_services"."id" ASC LIMIT 1[0m  [["name", "service"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "payful_services" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "service"], ["created_at", "2017-03-08 01:11:21.761195"], ["updated_at", "2017-03-08 01:11:21.761195"]]
  [1m[36mPayful::ServicePricing Load (0.0ms)[0m  [1mSELECT "payful_service_pricings".* FROM "payful_service_pricings" WHERE "payful_service_pricings"."service_id" = ?[0m  [["service_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "payful_service_pricings" ("period_in_days", "amount_in_cents", "service_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["period_in_days", 30], ["amount_in_cents", 10001], ["service_id", 1], ["created_at", "2017-03-08 01:11:21.763593"], ["updated_at", "2017-03-08 01:11:21.763593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "payful_memberships" ("payful_service_id", "active", "base_price_days", "base_price_in_cents", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["payful_service_id", 1], ["active", "t"], ["base_price_days", 30], ["base_price_in_cents", 10001], ["created_at", "2017-03-08 01:11:21.766122"], ["updated_at", "2017-03-08 01:11:21.766122"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
